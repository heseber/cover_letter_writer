write_cover_letter:
  description: >
    Write a professional cover letter for the job described in: {job_description}
    
    Use the following candidate information:
    - CV/Resume: {cv_content}
    - Recommendations: {recommendations_content}
    - Certificates: {certificates_content}
    
    {reviewer_feedback}
    
    Your task is to create a compelling cover letter that:
    1. Addresses the specific requirements mentioned in the job description
    2. Highlights the most relevant qualifications from the candidate's documents
    3. Demonstrates clear alignment between the candidate's experience and the job requirements
    4. Uses a professional yet personable tone
    5. Is well-structured with clear paragraphs (introduction, body, conclusion)
    6. Incorporates any reviewer feedback provided to improve the draft
    
    The cover letter should be persuasive and make a strong case for why this 
    candidate is an excellent fit for the position.
  expected_output: >
    A complete, professional cover letter in markdown format that effectively 
    maps the candidate's qualifications to the job requirements. The letter 
    should be ready for review and include proper formatting, salutation, 
    body paragraphs, and closing.
  agent: cover_letter_writer

review_cover_letter:
  description: >
    Critically review the following cover letter draft:
    
    {draft_content}
    
    Compare it against:
    - Job Description: {job_description}
    - Candidate CV: {cv_content}
    - Recommendations: {recommendations_content}
    - Certificates: {certificates_content}
    
    Evaluate the cover letter based on:
    1. Professional quality and writing style
    2. Grammar, spelling, and formatting
    3. How well it addresses the job requirements
    4. How effectively it highlights relevant candidate qualifications
    5. Overall persuasiveness and impact
    6. Proper structure and flow
    
    Provide your assessment in the following format:
    
    DECISION: [APPROVED or NEEDS_IMPROVEMENT]
    
    STRENGTHS:
    - List specific strengths of the current draft
    
    AREAS FOR IMPROVEMENT:
    - If NEEDS_IMPROVEMENT, provide specific, actionable feedback
    - Point out exactly what needs to be changed and how
    - Highlight any missed opportunities to connect qualifications with requirements
    
    Only approve (DECISION: APPROVED) if the cover letter meets high professional 
    standards and effectively makes the case for the candidate. If there are any 
    significant issues or missed opportunities, mark as NEEDS_IMPROVEMENT and 
    provide detailed guidance.
  expected_output: >
    A structured review containing:
    1. Clear DECISION (APPROVED or NEEDS_IMPROVEMENT)
    2. List of specific strengths
    3. If not approved, detailed actionable feedback on what to improve and how
    The review should be thorough, specific, and constructive.
  agent: cover_letter_reviewer

